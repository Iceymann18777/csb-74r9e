(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1216:function(t,e,n){var content=n(1341);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("948a8710",content,!0,{sourceMap:!1})},1217:function(t,e,n){var content=n(1343);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("10fcd97e",content,!0,{sourceMap:!1})},1340:function(t,e,n){"use strict";n(1216)},1341:function(t,e,n){var o=n(21)(!1);o.push([t.i,"[data-v-5d8bf94a]::-webkit-scrollbar{display:none}.card-body[data-v-5d8bf94a]{padding:0;margin:0}.farm.container[data-v-5d8bf94a]{max-width:1200px}.farm.container .card .card-body[data-v-5d8bf94a]{padding:0;overflow-x:scroll;scrollbar-width:none;-ms-overflow-style:none}.farm.container .card .card-body .ant-collapse[data-v-5d8bf94a]{border:0}.farm.container .card .card-body .ant-collapse .ant-collapse-item[data-v-5d8bf94a]{border-bottom:0}.farm.container .card .card-body .ant-collapse .ant-collapse-item[data-v-5d8bf94a]:not(:last-child){border-bottom:1px solid #d9d9d9}.farm.container .harvest .reward .token[data-v-5d8bf94a]{font-weight:600;font-size:20px}.farm.container .harvest .reward .value[data-v-5d8bf94a]{font-size:12px}.farm.container .harvest button[data-v-5d8bf94a]{padding:0 30px}.farm.container .start .unstake[data-v-5d8bf94a]{width:48px;margin-right:10px}.farm.container .start button[data-v-5d8bf94a]{width:100%}.farm.container .harvest[data-v-5d8bf94a],.farm.container .start[data-v-5d8bf94a]{padding:16px;border:2px solid #1c274f;border-radius:4px}.farm.container .harvest .title[data-v-5d8bf94a],.farm.container .start .title[data-v-5d8bf94a]{font-weight:600;font-size:12px;text-transform:uppercase;margin-bottom:8px}.farm.container .harvest button[data-v-5d8bf94a],.farm.container .start button[data-v-5d8bf94a]{height:48px}.farm.container .farm-head[data-v-5d8bf94a]{display:flex;align-items:center}.farm.container .farm-head .lp-icons .icons[data-v-5d8bf94a]{margin-right:8px}.farm.container .farm-head .state[data-v-5d8bf94a]{display:flex;flex-direction:column;text-align:left}.farm.container .farm-head .state .title[data-v-5d8bf94a]{font-size:12px;text-transform:uppercase}.farm.container .farm-head .state .value[data-v-5d8bf94a]{font-size:16px;line-height:24px}.farm.container .farm-head.is-mobile[data-v-5d8bf94a]{padding:24px 16px!important}.farm.container .is-mobile .harvest[data-v-5d8bf94a],.farm.container .is-mobile .start[data-v-5d8bf94a]{margin-top:16px}.farm.container p[data-v-5d8bf94a]{margin-bottom:0}",""]),t.exports=o},1342:function(t,e,n){"use strict";n(1217)},1343:function(t,e,n){var o=n(21)(!1);o.push([t.i,".farm .farm-head{padding:24px 32px!important}.farm .ant-collapse-header{padding:0!important}.farm .ant-collapse-header .farm-head{padding:24px 32px!important}.farm .ant-collapse-content{border-top:1px solid #1c274f}.ant-alert-warning{width:500px;margin-top:30px;background-color:transparent;border:1px solid #85858d}.ant-alert-warning .anticon-close{color:#fff}",""]),t.exports=o},1414:function(t,e,n){"use strict";n.r(e);n(59),n(46),n(66),n(52),n(37),n(78);var o=n(35),r=n(28),c=(n(132),n(72)),l=n.n(c),col=(n(289),n(168)),d=n.n(col),f=(n(290),n(167)),m=n.n(f),v=(n(196),n(42)),h=n.n(v),k=(n(619),n(399)),_=n.n(k),progress=(n(1172),n(1173)),C=n.n(progress),w=(n(615),n(616)),y=n.n(w),I=(n(622),n(301)),O=n.n(I),x=(n(198),n(85),n(618),n(26),n(114),n(77),n(53),n(617),n(9)),A=n(70),M=n(1169),j=n(50),$=n(12),S=n(141),P=n(105);function R(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var B=O.a.Panel,z=x.default.extend({components:{Tooltip:y.a,Progress:C.a,Collapse:O.a,CollapsePanel:B,Spin:_.a,Icon:h.a,Row:m.a,Col:d.a,Button:l.a},data:function(){return{isMobile:!1,farms:[],lp:null,farmInfo:null,harvesting:!1,stakeModalOpening:!1,staking:!1,unstakeModalOpening:!1,unstaking:!1}},head:{title:"Raydium Farm"},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?R(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):R(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(A.e)(["app","wallet","farm","url","price","liquidity"])),watch:{"wallet.tokenAccounts":{handler:function(t){this.updateCurrentLp(t)},deep:!0},"farm.infos":{handler:function(){this.updateFarms()},deep:!0},"farm.stakeAccounts":{handler:function(){this.updateFarms()},deep:!0}},mounted:function(){this.updateFarms()},methods:{TokenAmount:$.a,updateFarms:function(){for(var t=[],e=0,n=Object.entries(this.farm.infos);e<n.length;e++){var r=Object(o.a)(n[e],2),c=r[0],l=r[1];if(!l.isStake&&![4,5].includes(l.version)){var d=Object(M.a)(this.farm.stakeAccounts,c),f=l.poolInfo,m=f.rewardPerShareNet,v=f.rewardPerBlock,h=l.reward,k=l.lp,_=Object(j.a)(l);if(h&&k){var C=new $.a(v.toNumber(),h.decimals),w=Object(M.a)(this.liquidity.infos,k.mintAddress),y=2*C.toEther().toNumber()*60*60*24*365*this.price.prices[h.symbol],I=(null==w?void 0:w.coin.balance).toEther().toNumber()*this.price.prices[null==w?void 0:w.coin.symbol],O=((null==w?void 0:w.pc.balance).toEther().toNumber()*this.price.prices[null==w?void 0:w.pc.symbol]+I)/(null==w?void 0:w.lp.totalSupply).toEther().toNumber(),x=k.balance.toEther().toNumber()*O,A=(y/x*100).toFixed(2);_.apr=A,_.liquidityUsdValue=x}if(d){var S=d=Object(j.a)(d),P=S.rewardDebt,R=S.depositBalance.wei.multipliedBy(m.toNumber()).dividedBy(1e9).minus(P.wei);d.pendingReward=new $.a(R,P.decimals)}else d={depositBalance:new $.a(0,l.lp.decimals),pendingReward:new $.a(0,l.reward.decimals)};t.push({userInfo:d,farmInfo:_})}}this.farms=t},updateCurrentLp:function(t){if(this.lp){var e=Object(j.a)(this.lp),n=Object(M.a)(t,"".concat(this.lp.mintAddress,".balance"));e.balance=n,this.lp=e}},openStakeModal:function(t,e){var n=Object(j.a)(e),o=Object(M.a)(this.wallet.tokenAccounts,"".concat(e.mintAddress,".balance"));n.balance=o,this.lp=n,this.farmInfo=Object(j.a)(t),this.stakeModalOpening=!0},stake:function(t){var e=this;this.staking=!0;var n=this.$web3,o=this.$wallet,r=Object(M.a)(this.wallet.tokenAccounts,"".concat(this.farmInfo.lp.mintAddress,".tokenAccountAddress")),c=Object(M.a)(this.wallet.tokenAccounts,"".concat(this.farmInfo.reward.mintAddress,".tokenAccountAddress")),l=Object(M.a)(this.farm.stakeAccounts,"".concat(this.farmInfo.poolId,".stakeAccountAddress")),d=Object(P.a)().toString();this.$notify.info({key:d,message:"Making transaction...",description:"",duration:0}),Object(S.e)(n,o,this.farmInfo,r,c,l,t).then((function(n){e.$notify.info({key:d,message:"Transaction has been sent",description:function(t){return t("div",["Confirmation is in progress.  Check your transaction on ",t("a",{attrs:{href:"".concat(e.url.explorer,"/tx/").concat(n),target:"_blank"}},"here")])}});var o="Stake ".concat(t," ").concat(e.farmInfo.lp.name);e.$accessor.transaction.sub({txid:n,description:o})})).catch((function(t){e.$notify.error({key:d,message:"Stake failed",description:t.message})})).finally((function(){e.staking=!1,e.stakeModalOpening=!1}))},cancelStake:function(){this.lp=null,this.farmInfo=null,this.stakeModalOpening=!1},openUnstakeModal:function(t,e,n){var o=Object(j.a)(e);o.balance=n,this.lp=o,this.farmInfo=Object(j.a)(t),this.unstakeModalOpening=!0},unstake:function(t){var e=this;this.unstaking=!0;var n=this.$web3,o=this.$wallet,r=Object(M.a)(this.wallet.tokenAccounts,"".concat(this.farmInfo.lp.mintAddress,".tokenAccountAddress")),c=Object(M.a)(this.wallet.tokenAccounts,"".concat(this.farmInfo.reward.mintAddress,".tokenAccountAddress")),l=Object(M.a)(this.farm.stakeAccounts,"".concat(this.farmInfo.poolId,".stakeAccountAddress")),d=Object(P.a)().toString();this.$notify.info({key:d,message:"Making transaction...",description:"",duration:0}),Object(S.g)(n,o,this.farmInfo,r,c,l,t).then((function(n){e.$notify.info({key:d,message:"Transaction has been sent",description:function(t){return t("div",["Confirmation is in progress.  Check your transaction on ",t("a",{attrs:{href:"".concat(e.url.explorer,"/tx/").concat(n),target:"_blank"}},"here")])}});var o="Unstake ".concat(t," ").concat(e.farmInfo.lp.name);e.$accessor.transaction.sub({txid:n,description:o})})).catch((function(t){e.$notify.error({key:d,message:"Stake failed",description:t.message})})).finally((function(){e.unstaking=!1,e.unstakeModalOpening=!1}))},cancelUnstake:function(){this.lp=null,this.farmInfo=null,this.unstakeModalOpening=!1},harvest:function(t){var e=this;this.harvesting=!0;var n=this.$web3,o=this.$wallet,r=Object(M.a)(this.wallet.tokenAccounts,"".concat(t.lp.mintAddress,".tokenAccountAddress")),c=Object(M.a)(this.wallet.tokenAccounts,"".concat(t.reward.mintAddress,".tokenAccountAddress")),l=Object(M.a)(this.farm.stakeAccounts,"".concat(t.poolId,".stakeAccountAddress")),d=Object(P.a)().toString();this.$notify.info({key:d,message:"Making transaction...",description:"",duration:0}),Object(S.e)(n,o,t,r,c,l,"0").then((function(n){e.$notify.info({key:d,message:"Transaction has been sent",description:function(t){return t("div",["Confirmation is in progress.  Check your transaction on ",t("a",{attrs:{href:"".concat(e.url.explorer,"/tx/").concat(n),target:"_blank"}},"here")])}});var o="Harvest ".concat(t.reward.symbol," from ").concat(t.lp.name);e.$accessor.transaction.sub({txid:n,description:o})})).catch((function(t){e.$notify.error({key:d,message:"Harvest failed",description:t.message})})).finally((function(){e.harvesting=!1}))}}}),N=(n(1340),n(1342),n(19)),component=Object(N.a)(z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"farm container"},[n("div",{staticClass:"page-head fs-container"},[n("span",{staticClass:"title"},[t._v("Farms")]),t._v(" "),n("div",{staticClass:"buttons"},[t.farm.initialized?n("Tooltip",{attrs:{placement:"bottomRight"}},[n("template",{slot:"title"},[n("span",[t._v("\n            Displayed data will auto-refresh after\n            "+t._s(t.farm.autoRefreshTime-t.farm.countdown)+" seconds. Click this circle to update manually.\n          ")])]),t._v(" "),n("Progress",{class:t.farm.loading?"disabled":"",attrs:{type:"circle",width:20,"stroke-width":10,percent:100/t.farm.autoRefreshTime*t.farm.countdown,"show-info":!1},on:{click:t.$accessor.farm.requestInfos}})],2):t._e()],1)]),t._v(" "),t.stakeModalOpening?n("CoinModal",{attrs:{title:"Stake LP",coin:t.lp,loading:t.staking},on:{onOk:t.stake,onCancel:t.cancelStake}}):t._e(),t._v(" "),t.unstakeModalOpening?n("CoinModal",{attrs:{title:"Unstake LP",coin:t.lp,loading:t.unstaking},on:{onOk:t.unstake,onCancel:t.cancelUnstake}}):t._e(),t._v(" "),t.farm.initialized?n("div",[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("Collapse",{attrs:{"expand-icon-position":"right"}},t._l(t.farms,(function(e){return n("CollapsePanel",{directives:[{name:"show",rawName:"v-show",value:3===e.farmInfo.version&&!e.farmInfo.legacy,expression:"farm.farmInfo.version === 3 && !farm.farmInfo.legacy"}],key:e.farmInfo.poolId},[n("Row",{staticClass:"farm-head",class:t.isMobile?"is-mobile":"",attrs:{slot:"header",gutter:0},slot:"header"},[n("Col",{staticClass:"lp-icons",attrs:{span:t.isMobile?12:8}},[n("div",{staticClass:"icons"},[n("CoinIcon",{attrs:{"mint-address":e.farmInfo.lp.coin.mintAddress}}),t._v(" "),n("CoinIcon",{attrs:{"mint-address":e.farmInfo.lp.pc.mintAddress}})],1),t._v("\n                "+t._s(t.isMobile?e.farmInfo.lp.symbol:e.farmInfo.lp.name)+"\n              ")]),t._v(" "),n("Col",{staticClass:"state",attrs:{span:t.isMobile?6:4}},[n("div",{staticClass:"title"},[t._v(t._s(t.isMobile?"Reward":"Pending Reward"))]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(e.userInfo.pendingReward.format()))])]),t._v(" "),t.isMobile?t._e():n("Col",{staticClass:"state",attrs:{span:4}},[n("div",{staticClass:"title"},[t._v("Staked")]),t._v(" "),n("div",{staticClass:"value"},[t._v("\n                  "+t._s(e.userInfo.depositBalance.format())+"\n                ")])]),t._v(" "),n("Col",{staticClass:"state",attrs:{span:t.isMobile?6:4}},[n("div",{staticClass:"title"},[t._v("Apr")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(e.farmInfo.apr)+"%")])]),t._v(" "),t.isMobile?t._e():n("Col",{staticClass:"state",attrs:{span:4}},[n("div",{staticClass:"title"},[t._v("Liquidity")]),t._v(" "),n("div",{staticClass:"value"},[t._v("\n                  $"+t._s(Math.round(e.farmInfo.liquidityUsdValue).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+"\n                ")])])],1),t._v(" "),n("Row",{class:t.isMobile?"is-mobile":"",attrs:{gutter:48}},[n("Col",{attrs:{span:t.isMobile?24:4}},[n("p",[t._v("Add liquidity:")]),t._v(" "),n("NuxtLink",{attrs:{to:"/liquidity?from="+e.farmInfo.lp.coin.mintAddress+"&to="+e.farmInfo.lp.pc.mintAddress}},[t._v("\n                  "+t._s(e.farmInfo.lp.name)+"\n                ")])],1),t._v(" "),n("Col",{attrs:{span:t.isMobile?24:10}},[n("div",{staticClass:"harvest"},[n("div",{staticClass:"title"},[t._v("Pending "+t._s(e.farmInfo.reward.symbol)+" Reward")]),t._v(" "),n("div",{staticClass:"pending fs-container"},[n("div",{staticClass:"reward"},[n("div",{staticClass:"token"},[t._v(t._s(e.userInfo.pendingReward.format()))])]),t._v(" "),n("Button",{attrs:{size:"large",ghost:"",disabled:!t.wallet.connected||t.harvesting||e.userInfo.pendingReward.isNullOrZero(),loading:t.harvesting},on:{click:function(n){return t.harvest(e.farmInfo)}}},[t._v("\n                      Harvest\n                    ")])],1)])]),t._v(" "),n("Col",{attrs:{span:t.isMobile?24:10}},[n("div",{staticClass:"start"},[n("div",{staticClass:"title"},[t._v("Start farming")]),t._v(" "),t.wallet.connected?n("div",{staticClass:"fs-container"},[e.userInfo.depositBalance.isNullOrZero()?t._e():n("Button",{staticClass:"unstake",attrs:{size:"large",ghost:""},on:{click:function(n){return t.openUnstakeModal(e.farmInfo,e.farmInfo.lp,e.userInfo.depositBalance)}}},[n("Icon",{attrs:{type:"minus"}})],1),t._v(" "),n("Button",{attrs:{size:"large",ghost:""},on:{click:function(n){return t.openStakeModal(e.farmInfo,e.farmInfo.lp)}}},[t._v("\n                      Stake LP\n                    ")])],1):n("Button",{attrs:{size:"large",ghost:""},on:{click:t.$accessor.wallet.openModal}},[t._v("\n                    Connect Wallet\n                  ")])],1)])],1)],1)})),1)],1)]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[t._l(t.farms,(function(e){return[[2,3].includes(e.farmInfo.version)&&e.farmInfo.legacy?n("Row",{key:e.farmInfo.poolId,staticClass:"farm-head",class:t.isMobile?"is-mobile":"",attrs:{gutter:0}},[n("Col",{staticClass:"lp-icons",attrs:{span:t.isMobile?12:8}},[n("div",{staticClass:"icons"},[n("CoinIcon",{attrs:{"mint-address":e.farmInfo.lp.coin.mintAddress}}),t._v(" "),n("CoinIcon",{attrs:{"mint-address":e.farmInfo.lp.pc.mintAddress}})],1),t._v("\n              "+t._s(t.isMobile?e.farmInfo.lp.symbol:e.farmInfo.lp.name)+"\n            ")]),t._v(" "),t.isMobile?t._e():n("Col",{staticClass:"state",attrs:{span:4}},[n("div",{staticClass:"title"},[t._v(t._s(t.isMobile?"Reward":"Pending Reward"))]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(e.userInfo.pendingReward.format()))])]),t._v(" "),t.isMobile?t._e():n("Col",{staticClass:"state",attrs:{span:4}},[n("div",{staticClass:"title"},[t._v("Staked")]),t._v(" "),n("div",{staticClass:"value"},[t._v("\n                "+t._s(e.userInfo.depositBalance.format())+"\n              ")])]),t._v(" "),t.isMobile?t._e():n("Col",{staticClass:"state",attrs:{span:4}},[n("div",{staticClass:"title"},[t._v("Apr")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(e.farmInfo.apr)+"%")])]),t._v(" "),n("Col",{staticClass:"fc-container",attrs:{span:t.isMobile?12:4}},[t.wallet.connected?n("Button",{attrs:{ghost:""},on:{click:function(e){return t.$router.replace({path:"/migrate/"})}}},[t._v(" Unstake & Migrate ")]):n("Button",{attrs:{ghost:""},on:{click:t.$accessor.wallet.openModal}},[t._v(" Connect Wallet ")])],1)],1):t._e()]}))],2)])]):n("div",{staticClass:"fc-container"},[n("Spin",{attrs:{spinning:!0}},[n("Icon",{staticStyle:{"font-size":"24px"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1)],1)],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-head fs-container"},[n("span",{staticClass:"title"},[t._v("Legacy Farms")]),t._v(" "),n("div",{staticClass:"buttons"})])}],!1,null,"5d8bf94a",null);e.default=component.exports;installComponents(component,{CoinModal:n(293).default,CoinIcon:n(197).default})}}]);